{% extends 'base.html.twig' %}

{% block title %}OnlyNews | Results{% endblock %}

{% macro displayArticles(articles) %}
    {% for article in articles %}
        <div class="card flex-md-row mb-4 box-shadow h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
                <div class="p-3">
                    <h1 class="h3 font-weight-bold">{{article.title}}</h1>
                    <h2 class="h5">{{article.description}}</h2>
                    <em>Escrito por {{article.author}}</em>
                    <br>
                    <span>{{article.publishedAt}}</span>
                    {# <p>{{    article.content}}</p> #}
                    <a href="{{article.url}}" class="text-decoration-none text-dark" target="_blank">
                        <p class="text-danger">{{article.source.name}}</p>
                    </a>
                </div>
            </div>
            {% if article.urlToImage is defined and article.urlToImage != null %}
                <img class="article-img p-2 pr-3 card-img-right flex-auto d-none d-md-block border-danger rounded align-middle my-auto" 
                    src="{{article.urlToImage}}">
            {% endif %}
            <div class="card-header d-flex flex-column align-items-start text-danger">
                X
                S
            </div>
        </div>
    {% endfor %}
{% endmacro %}

{% macro displayCategories() %}
    <div class="row p-3 d-flex justify-content-center">
        <a href="/" id="/"
            class="rounded-left btn-outline-danger my-2 px-2 py-1 border border-danger">
                General
        </a>
        <a href="/business" id="/business"
            class="btn-outline-danger my-2 px-2 py-1 border border-danger">
                Business
        </a>
        <a href="/entertainment" id="/entertainment"
            class="btn-outline-danger my-2 px-2 py-1 border border-danger">
                Entertainment
        </a>
        <a href="/health" id="/health"
            class="btn-outline-danger my-2 px-2 py-1 border border-danger">
                Health
        </a>
        <a href="/science" id="/science" 
            class="btn-outline-danger my-2 px-2 py-1 border border-danger">
                Science
        </a>
        <a href="/sports" id="/sports" 
            class="btn-outline-danger my-2 px-2 py-1 border border-danger">
                Sports
        </a>
        <a href="/tech" id="/tech"
            class="rounded-right btn-outline-danger my-2 px-2 py-1 border border-danger">
                Technology
        </a>
    </div>
{% endmacro %}
{% block body %}
    {{_self.displayCategories(results.articles)}}
    {{_self.displayArticles(results.articles)}}
{% endblock %}

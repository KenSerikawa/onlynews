{% extends 'base.html.twig' %}

{% block title %}OnlyNews | Results{% endblock %}

{% macro displayArticles(articles) %}
    {% set id = 0 %}
    {% for article in articles %}
        <div id="{{id}}" class="card flex-md-row mb-4 box-shadow h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
                <div class="p-3">
                    <h1 class="h3 font-weight-bold">{{article.title}}</h1>
                    <h2 class="h5">{{article.description}}</h2>
                    <em>Escrito por {{article.author}}</em>
                    <br>
                    <span>{{article.publishedAt}}</span>
                    {# <p>{{    article.content}}</p> #}
                    <a href="{{article.url}}"
                        {# href="{{path('source', {source: article.source.name|trim})}}" #} 
                        class="text-decoration-none text-dark" target="_blank">
                        <p class="text-danger">{{article.source.name}}</p>
                    </a>
                </div>
            </div>
            {% if article.urlToImage is defined and article.urlToImage != null %}
                <img class="article-img p-2 pr-3 card-img-right flex-auto d-none d-md-block border-danger rounded align-middle my-auto" 
                    src="{{article.urlToImage}}">
            {% endif %}
            <div class="card-header border-left d-flex flex-column align-items-start text-danger">
                <a style="cursor:pointer;" onclick="removeCard({{id}})" class="">
                    <span class="h3">
                    &times;
                    </span>
                </a>
            </div>
        </div>
        {% set id = id + 1 %}
    {% endfor %}
{% endmacro %}

{% block body %}
    {% include "category/navbar.html.twig" %}
    {{_self.displayArticles(results.articles)}}
{% endblock %}

{% block javascripts %}
    <script src="{{asset('/js/remove-card-animation.js')}}"></script>
{% endblock %}
